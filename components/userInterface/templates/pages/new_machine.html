{% extends 'layouts/base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block breadcrumbs %}{% endblock breadcrumbs %}

{% block content %}
<h3 class="page-title">New Machine</h3>
<div class="card-block px-0 py-3">
    <div class="card" style="border-radius: 15px;">
      <div class="card-body p-5">
        <div class="wrapper-create-work">
          <form method="post">
            {% csrf_token %}
            <div class="form-group">
              <label class="font-weight-bold">USERNAME</label>
              {% render_field form.user type="text" class="form-control" placeholder="Insert your username" %}
            </div>
            <div class="form-group">
              <label class="font-weight-bold">FQDN</label>
              {% render_field form.fqdn type="text" class="form-control" placeholder="Insert the machine Fully Qualified Domain Name" %}
            </div>
            <div class="form-group">
              <label class="font-weight-bold">WDIR</label>
              {% render_field form.wdir type="text" class="form-control" placeholder="Insert the working directory path for the chosen machine" %}
            </div>
            <div class="form-group">
              <label class="font-weight-bold">INSTALLATION DIRECTORY</label>
              {% render_field form.installDir type="text" class="form-control" placeholder="Insert the installation directory path for the chosen machine" %}
            </div>
            <div class="form-group">
              <label class="font-weight-bold">DATA DIRECTORY</label>
              {% render_field form.dataDir type="text" class="form-control" placeholder="Insert the data directory path for the chosen machine" %}
            </div>
            {{ form.author.as_hidden }}

            {% if error %}
              <div class="alert alert-danger text-center" role="alert">
                {{ message }}
              </div>
            {% endif %}

            {% if flag == "yes" %}
              <div title="Some Flag">
                <div class="alert alert-warning" role="alert">
                  Definition of the machine done!
                </div>
                <a href="{% url 'machines' %}">
                  <button type="button" class="btn btn-success">Continue</button>
                </a>
              </div>
            {% else %}
              <button type="submit" class="btn btn-primary">Define</button>
            {% endif %}
          </form>
        </div>
      </div>
    </div>
</div>
{% endblock content %}
